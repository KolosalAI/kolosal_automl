<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kolosal AutoML - Dataset Scaling Benchmark</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0f172a; color: #e2e8f0; padding: 2rem; }
    h1 { text-align: center; font-size: 1.8rem; margin-bottom: 0.5rem; color: #f8fafc; }
    .subtitle { text-align: center; color: #94a3b8; margin-bottom: 2rem; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem; }
    .card { background: #1e293b; border-radius: 12px; padding: 1.5rem; border: 1px solid #334155; }
    .card h2 { font-size: 1rem; color: #94a3b8; margin-bottom: 1rem; }
    canvas { width: 100% !important; }
    table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
    th, td { padding: 0.5rem 0.75rem; text-align: right; border-bottom: 1px solid #334155; }
    th { color: #94a3b8; font-weight: 600; text-align: right; }
    th:first-child, td:first-child { text-align: left; }
    th:nth-child(2), td:nth-child(2) { text-align: left; }
    tr:hover { background: #334155; }
    .rust { color: #60a5fa; }
    .python { color: #fb923c; }
    .timestamp { text-align: center; color: #64748b; font-size: 0.8rem; margin-top: 2rem; }
    @media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <h1>Kolosal AutoML &mdash; Dataset Scaling Benchmark</h1>
  <p class="subtitle"><span class="rust">Rust</span> vs <span class="python">Python/Gradio</span> &mdash; Performance at increasing dataset sizes</p>

  <div class="grid">
    <div class="card">
      <h2>Upload / Load Time vs Dataset Size</h2>
      <canvas id="chartUpload"></canvas>
    </div>
    <div class="card">
      <h2>Training Time vs Dataset Size</h2>
      <canvas id="chartTrain"></canvas>
    </div>
    <div class="card">
      <h2>Prediction Time vs Dataset Size</h2>
      <canvas id="chartPredict"></canvas>
    </div>
    <div class="card">
      <h2>Speedup Factor (Python / Rust) at Comparable Sizes</h2>
      <canvas id="chartSpeedup"></canvas>
    </div>
  </div>

  <div class="card" style="margin-bottom: 2rem;">
    <h2>Raw Measurements</h2>
    <table>
      <thead>
        <tr>
          <th>Platform</th>
          <th>Dataset</th>
          <th>Rows</th>
          <th>Upload (ms)</th>
          <th>Preprocess (ms)</th>
          <th>Train (ms)</th>
          <th>Predict (ms)</th>
          <th>Total (ms)</th>
        </tr>
      </thead>
      <tbody>
    <tr>
      <td>rust</td>
      <td>synthetic_100</td>
      <td>100</td>
      <td>39</td>
      <td>35</td>
      <td>69</td>
      <td>41</td>
      <td>184</td>
    </tr>
    <tr>
      <td>rust</td>
      <td>synthetic_500</td>
      <td>500</td>
      <td>52</td>
      <td>35</td>
      <td>64</td>
      <td>40</td>
      <td>191</td>
    </tr>
    <tr>
      <td>rust</td>
      <td>synthetic_1000</td>
      <td>1,000</td>
      <td>65</td>
      <td>33</td>
      <td>63</td>
      <td>42</td>
      <td>203</td>
    </tr>
    <tr>
      <td>rust</td>
      <td>synthetic_5000</td>
      <td>5,000</td>
      <td>167</td>
      <td>36</td>
      <td>603</td>
      <td>40</td>
      <td>846</td>
    </tr>
    <tr>
      <td>rust</td>
      <td>synthetic_10000</td>
      <td>10,000</td>
      <td>443</td>
      <td>38</td>
      <td>603</td>
      <td>39</td>
      <td>1123</td>
    </tr>
    <tr>
      <td>rust</td>
      <td>synthetic_50000</td>
      <td>50,000</td>
      <td>630</td>
      <td>52</td>
      <td>1125</td>
      <td>38</td>
      <td>1845</td>
    </tr>
    <tr>
      <td>python</td>
      <td>iris</td>
      <td>150</td>
      <td>1352</td>
      <td>1176</td>
      <td>7915</td>
      <td>103</td>
      <td>10546</td>
    </tr>
    <tr>
      <td>python</td>
      <td>wine</td>
      <td>178</td>
      <td>4194</td>
      <td>1175</td>
      <td>4745</td>
      <td>75</td>
      <td>10189</td>
    </tr>
    <tr>
      <td>python</td>
      <td>boston</td>
      <td>506</td>
      <td>1304</td>
      <td>1172</td>
      <td>4757</td>
      <td>102</td>
      <td>7335</td>
    </tr>
    <tr>
      <td>python</td>
      <td>diabetes</td>
      <td>768</td>
      <td>1803</td>
      <td>1144</td>
      <td>4737</td>
      <td>86</td>
      <td>7770</td>
    </tr>
      </tbody>
    </table>
  </div>

  <p class="timestamp">Generated: 2026-02-21T01:42:36.664Z</p>

  <script>
    const rustRows = [100,500,1000,5000,10000,50000];
    const rustUpload = [39,52,65,167,443,630];
    const rustTrain = [69,64,63,603,603,1125];
    const rustPredict = [41,40,42,40,39,38];

    const pyRows = [150,178,506,768];
    const pyUpload = [1352,4194,1304,1803];
    const pyTrain = [7915,4745,4757,4737];
    const pyPredict = [103,75,102,86];

    const speedupLabels = ["iris(150) vs Rust(100)","wine(178) vs Rust(100)","boston(506) vs Rust(500)","diabetes(768) vs Rust(1000)"];
    const speedupUpload = [34.67,107.54,25.08,27.74];
    const speedupTrain = [114.71,68.77,74.33,75.19];
    const speedupPredict = [2.51,1.83,2.55,2.05];

    const rustColor = 'rgba(96, 165, 250, 1)';
    const rustBg = 'rgba(96, 165, 250, 0.15)';
    const pyColor = 'rgba(251, 146, 60, 1)';
    const pyBg = 'rgba(251, 146, 60, 0.15)';

    const logScaleOpts = {
      type: 'logarithmic',
      title: { display: true, color: '#94a3b8' },
      ticks: { color: '#64748b' },
      grid: { color: '#1e293b' },
    };

    function makeXY(rows, values) {
      return rows.map((r, i) => ({ x: r, y: values[i] }));
    }

    // Chart 1: Upload / Load Time
    new Chart(document.getElementById('chartUpload'), {
      type: 'line',
      data: {
        datasets: [
          { label: 'Rust', data: makeXY(rustRows, rustUpload), borderColor: rustColor, backgroundColor: rustBg, fill: false, tension: 0.3, pointRadius: 5 },
          { label: 'Python', data: makeXY(pyRows, pyUpload), borderColor: pyColor, backgroundColor: pyBg, fill: false, tension: 0.3, pointRadius: 5 },
        ],
      },
      options: {
        responsive: true,
        plugins: { legend: { labels: { color: '#e2e8f0' } } },
        scales: {
          x: { ...logScaleOpts, title: { ...logScaleOpts.title, text: 'Dataset Size (rows)' }, type: 'logarithmic' },
          y: { ...logScaleOpts, title: { ...logScaleOpts.title, text: 'Time (ms)' }, type: 'logarithmic' },
        },
      },
    });

    // Chart 2: Training Time
    new Chart(document.getElementById('chartTrain'), {
      type: 'line',
      data: {
        datasets: [
          { label: 'Rust', data: makeXY(rustRows, rustTrain), borderColor: rustColor, backgroundColor: rustBg, fill: false, tension: 0.3, pointRadius: 5 },
          { label: 'Python', data: makeXY(pyRows, pyTrain), borderColor: pyColor, backgroundColor: pyBg, fill: false, tension: 0.3, pointRadius: 5 },
        ],
      },
      options: {
        responsive: true,
        plugins: { legend: { labels: { color: '#e2e8f0' } } },
        scales: {
          x: { ...logScaleOpts, title: { ...logScaleOpts.title, text: 'Dataset Size (rows)' }, type: 'logarithmic' },
          y: { ...logScaleOpts, title: { ...logScaleOpts.title, text: 'Time (ms)' }, type: 'logarithmic' },
        },
      },
    });

    // Chart 3: Prediction Time (linear)
    new Chart(document.getElementById('chartPredict'), {
      type: 'line',
      data: {
        datasets: [
          { label: 'Rust (batch 100)', data: makeXY(rustRows, rustPredict), borderColor: rustColor, backgroundColor: rustBg, fill: false, tension: 0.3, pointRadius: 5 },
          { label: 'Python (single)', data: makeXY(pyRows, pyPredict), borderColor: pyColor, backgroundColor: pyBg, fill: false, tension: 0.3, pointRadius: 5 },
        ],
      },
      options: {
        responsive: true,
        plugins: { legend: { labels: { color: '#e2e8f0' } } },
        scales: {
          x: { ...logScaleOpts, title: { ...logScaleOpts.title, text: 'Dataset Size (rows)' }, type: 'logarithmic' },
          y: { title: { display: true, text: 'Time (ms)', color: '#94a3b8' }, ticks: { color: '#64748b' }, grid: { color: '#1e293b' } },
        },
      },
    });

    // Chart 4: Speedup Factor (grouped bar)
    new Chart(document.getElementById('chartSpeedup'), {
      type: 'bar',
      data: {
        labels: speedupLabels,
        datasets: [
          { label: 'Upload/Load Speedup', data: speedupUpload, backgroundColor: 'rgba(96, 165, 250, 0.7)', borderColor: rustColor, borderWidth: 1 },
          { label: 'Training Speedup', data: speedupTrain, backgroundColor: 'rgba(52, 211, 153, 0.7)', borderColor: 'rgba(52, 211, 153, 1)', borderWidth: 1 },
          { label: 'Prediction Speedup', data: speedupPredict, backgroundColor: 'rgba(251, 146, 60, 0.7)', borderColor: pyColor, borderWidth: 1 },
        ],
      },
      options: {
        responsive: true,
        plugins: {
          legend: { labels: { color: '#e2e8f0' } },
          tooltip: {
            callbacks: {
              label: function(ctx) { return ctx.dataset.label + ': ' + ctx.parsed.y.toFixed(2) + 'x'; }
            }
          },
        },
        scales: {
          x: { ticks: { color: '#64748b', maxRotation: 45 }, grid: { color: '#1e293b' } },
          y: {
            title: { display: true, text: 'Speedup Factor (Python/Rust)', color: '#94a3b8' },
            ticks: { color: '#64748b' },
            grid: { color: '#1e293b' },
            beginAtZero: true,
          },
        },
      },
    });
  </script>
</body>
</html>